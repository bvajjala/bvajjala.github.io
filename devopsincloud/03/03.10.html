
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>03 - Balaji Vajjala's Blog</title>
  <meta name="author" content="Balaji Vajjala">

  
  <meta name="description" content="03 Apr 9th, 2014 3.9 The basics of AWS CloudFormation for automating infrastructures Learning Objectives
Create a CloudFormation Stack
Delete a &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://bvajjala.github.io/devopsincloud/03/03.10.html">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="Balaji Vajjala's Blog" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/lib/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href='http://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css'>
<link href='http://fonts.googleapis.com/css?family=Fjalla+One' rel='stylesheet' type='text/css'>
  

</head>

<body   class="collapse-sidebar sidebar-footer" >
  <header role="banner">
	<div class="header-title"><a href="/">Balaji Vajjala's Blog</a></div>


	<br><div class="header-subtitle">A DevOps Blog from Trenches</div>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:bvajjala.github.io" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/home/">Home</a></li> 
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
  <li><a href="/about">About</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article role="article">
  
  <header>
    <h1 class="entry-title">03</h1>
    <p class="meta">








  


<time datetime="2014-04-09T11:41:00-04:00" pubdate data-updated="true">Apr 9<span>th</span>, 2014</time></p>
  </header>
  
  <ul>
<li>3.9 The basics of AWS CloudFormation for automating infrastructures

<ul>
<li>Learning Objectives</li>
<li>Create a CloudFormation Stack</li>
<li>Delete a CloudFormation Stack</li>
<li>Identify CloudFormation template components</li>
</ul>
</li>
</ul>


<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
</tbody>
</table>


<h1>3.9 The basics of AWS CloudFormation for automating infrastructures</h1>

<h2>Learning Objectives</h2>

<p>By the end of this lesson you will be able to:</p>

<ul>
<li>Create a CloudFormation stack of an existing template.</li>
<li>Delete an existing CloudFormation stack.</li>
<li>Identify the basic components of a CloudFormation template.</li>
</ul>


<h2>Create a CloudFormation Stack</h2>

<ol>
<li>Go to the CloudFormation stack in the AWS Management Console. Click the Create New Stack button.</li>
<li>In the Stack Name box, type a Stack name. For this example, use <strong>DITCJenkinsStack</strong>. The Stack Name must not contain spaces. Click ‘Provide a Template URL.’ In the box below, type or paste this URL: <a href="https://stelligentlabs.s3.amazonaws.com/templates/jenkins.template">https://stelligentlabs.s3.amazonaws.com/templates/jenkins.template</a>. The template creates a Jenkins environment. Click Continue.</li>
<li>In the Key Name box, enter <strong>ditc</strong> as your EC2 Key Pair &ndash; from the key pair you created in sublesson 3.4. Click Continue and then click Close. Your stack may take several minutes to create</li>
<li>The progress of the stack creation is shown in the top portion of the CloudFormation tab. The status for <strong>DITCJenkinsStack</strong> should be CREATE_IN_PROGRESS</li>
<li>Select the checkbox next to the <strong>DITCJenkinsStack</strong> stack. In the bottom pane, click the Events tab. The Events Tab displays each step in the creation of the stack. The CREATE_COMPLETE event is shown when a resource has been successfully created. If AWS CloudFormation cannot create a particular resource, it displays a CREATE_FAILED event and rolls back the stack.</li>
<li>When the stack <strong>DITCJenkinsStack</strong> has the status CREATE_COMPLETE, AWS CloudFormation has finished creating the stack and you can start using its resources. The sample Jenkins stack installs and configures a Jenkins CI application onto a Tomcat server. To complete the Jenkins installation, click on the link in the JenkinsURL row to launch the Jenkins application.</li>
</ol>


<h2>Delete a CloudFormation Stack</h2>

<ol>
<li>Go to the AWS CloudFormation Console, select <strong>DITCJenkinsStack</strong> and click Delete Stack. In the confirmation message that appears click Yes, Delete. The status for <strong>DITCJenkinsStack</strong> changes to DELETE_IN_PROGRESS. In the same way you monitored the creation of the stack, you can monitor its deletion using the Events tab. When AWS CloudFormation completes the deletion of stack, it removes the stack from the list.</li>
</ol>


<h2>Identify CloudFormation template components</h2>

<ol>
<li>Open the CloudFormation template at <a href="https://github.com/stelligent/devopsinthecloud/blob/master/infrastructure/templates/jenkins.template">https://github.com/stelligent/devopsinthecloud/blob/master/infrastructure/templates/jenkins.template</a> .</li>
<li>Review the six top-level objects: AWSTemplateFormatVersion, Description, Parameters, Resources, Mappings, Outputs in the jenkins.template file. The Resources object is the only object that’s required</li>
<li>The Resources object contains the definitions of the AWS resources you want to create with the template. Each resource is listed separately and specifies the properties necessary for creating that particular resource. The resource declaration begins with a String that specifies the logical name for the resource. The logical name can be used to refer to the resources within the template.</li>
<li>You use the Parameters object to declare values that can be passed to the template when you create the Stack. A parameter is an effective way to specify sensitive information &ndash; such as usernames/passwords &ndash; that you don’t want to store in the template itself.</li>
<li>You use Mappings to declare conditional values that are evaluated in a similar manner as a switch statement. The template uses Mappings to select the correct Amazon Machine Image for the Region and the Architecture Type for The Instance Type.</li>
<li>Outputs define custom values that are returned by the cfn-describe-stacks command and in the AWS Management Console Outputs tab after the stack is created. You can use Output values to return information from the resources in the stacks such as the URL for a website created in the template.</li>
</ol>


  
    <footer>
      <p class="meta">
        
        








  


<time datetime="2014-04-09T11:41:00-04:00" pubdate data-updated="true">Apr 9<span>th</span>, 2014</time>
        
      </p>
      
        <div class="sharing">
  
  <a href="http://twitter.com/share" class="twitter-share-button" data-url="http://bvajjala.github.io/devopsincloud/03/03.10.html" data-via="BVajjala" data-counturl="http://bvajjala.github.io/devopsincloud/03/03.10.html" >Tweet</a>
  
  
  <div class="g-plusone" data-size="medium"></div>
  
  
    <div class="fb-like" data-send="true" data-width="450" data-show-faces="false"></div>
  
</div>

      
    </footer>
  
</article>

</div>

<aside class="sidebar">
  
    <section>
  <h1>About Me</h1>
  <p>A little something about me.</p>
</section>
<section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2014/04/04/a-case-study-on-using-100-percent-cloud-based-resources-with-automated-software-delivery/">A case study on using 100% cloud based Resources with Automated Software Delivery</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/04/04/tutotial-continuous-delivery-in-the-cloud-part-6-of-6/">Tutotial : Continuous Delivery in the Cloud Part 6 of 6</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/04/04/tutorial-continuous-delivery-in-the-cloud-part-5-of-6/">Tutorial : Continuous Delivery in the Cloud Part 5 of 6</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/04/04/tutorial-continuous-delivery-in-the-cloud-part-4-of-6/">Tutotial : Continuous Delivery in the Cloud Part 4 of 6</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/04/04/tutorial-continuous-delivery-in-the-cloud-part-3-of-6/">Tutorial : Continuous Delivery in the Cloud Part 3 of 6</a>
      </li>
    
  </ul>
</section>



<section class="googleplus">
  <h1>
    <a href="https://plus.google.com/bvajjala@gmail.com?rel=author">
      <img src="http://www.google.com/images/icons/ui/gprofile_button-32.png" width="32" height="32">
      Google+
    </a>
  </h1>
</section>



  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2014 -  Balaji Vajjala <br/>
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a> + <a href="https://github.com/ioveracker/mnml">mnml</a>.
	  
  </span>
</p>

</footer>
  



<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) {return;}
  js = d.createElement(s); js.id = id; js.async = true;
  js.src = "//connect.facebook.net/en_US/all.js#appId=212934732101925&xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>



  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>



  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
